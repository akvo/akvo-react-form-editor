{"version":3,"file":"index.modern.js","sources":["../src/components/FormWrapper.jsx","../src/lib/i18n.js","../src/lib/debug.js","../src/lib/store.js","../src/support/AddMoveButton.jsx","../src/support/CardTitle.jsx","../src/support/CardExtraButton.jsx","../src/support/SaveButton.jsx","../src/components/FormDefinition.jsx","../src/components/QuestionGroupDefinition.jsx","../src/components/QuestionGroupSetting.jsx","../src/components/QuestionDefinition.jsx","../src/components/question-type/SettingInput.jsx","../src/components/question-type/SettingNumber.jsx","../src/components/question-type/SettingOption.jsx","../src/components/QuestionSetting.jsx","../src/components/QuestionSkipLogic.jsx","../src/index.js"],"sourcesContent":["import React from 'react';\nimport { Form } from 'antd';\n\nconst FormWrapper = ({ children }) => {\n  const [form] = Form.useForm();\n\n  const handleOnValuesChange = (changedValues, allValues) => {\n    // console.log(changedValues, allValues);\n  };\n\n  const handleOnFinish = (values) => {\n    // console.log(values);\n  };\n\n  const handleOnFinishFailed = ({ values, errorFields, outOfDate }) => {\n    // console.log(values, errorFields, outOfDate);\n  };\n\n  return (\n    <Form\n      form={form}\n      key=\"akvo-react-form-editor\"\n      name=\"akvo-react-form-editor\"\n      layout=\"vertical\"\n      onValuesChange={handleOnValuesChange}\n      onFinish={handleOnFinish}\n      onFinishFailed={handleOnFinishFailed}\n    >\n      {children}\n    </Form>\n  );\n};\n\nexport default FormWrapper;\n","const UIStaticText = {\n  en: {\n    inputFormNameLabel: 'Form Name',\n    inputFormDescriptionLabel: 'Form Description',\n    formTabPane: 'Form',\n    previewTabPane: 'Preview',\n    mandatoryQuestionCount: 'Mandatory Questions',\n    version: 'Version',\n    inputQuestionGroupNameLabel: 'Question Group Name',\n    inputQuestionGroupDescriptionLabel: 'Question Group Description',\n    inputRepeatThisGroupCheckbox: 'Repeat this group',\n    buttonShowQuestionsText: 'Show Questions',\n    buttonHideQuestionsText: 'Hide Questions',\n    buttonEditGroupText: 'Edit Group',\n    buttonCancelEditGroupText: 'Cancel Edit Group',\n    buttonDeleteText: 'Delete',\n    buttonCancelText: 'Cancel',\n    buttonAddNewQuestionGroupText: 'Insert group here',\n    buttonMoveQuestionGroupText: 'Move group here',\n    buttonAddNewQuestionText: 'Add new question',\n    inputQuestionNameLabel: 'Question Name',\n    inputQuestionTypeLabel: 'Question Type',\n    inputQuestionVariableNameLabel: 'Variable Name',\n    inputQuestionTooltipLabel: 'Question Tooltip',\n    inputQuestionRequiredCheckbox: 'Required',\n    buttonSaveText: 'Save',\n    questionSettingTabPane: 'Setting',\n    questionSkipLogicTabPane: 'Skip Logic',\n    questionTranslationTabPane: 'Translation',\n    questionExtraTabPane: 'Extra',\n    inputQuestionDependentToLabel: 'Dependent to Question',\n    inputQuestionDependentLogicLabel: 'Logic',\n    inputQuestionDependentAnswerLabel: 'Value',\n    questionMoreInputTypeSettingText: 'More Input Question Setting',\n    inputQuestionRequireDoubleEntryCheckbox: 'Require double entry of answer',\n    inputQuestionHiddenStringCheckbox: 'Hidden String/Password',\n    questionMoreInputNumberSettingText: 'More Number Question Setting',\n    inputQuestionAllowDecimalCheckbox: 'Allow Decimal',\n    questionMoreOptionTypeSettingText: 'More Option Question Setting',\n    inputQuestionAllowOtherCheckbox: 'Allow Other',\n  },\n};\n\nexport default UIStaticText;\n","const char = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\nexport const dummyName = () => {\n  return [1, 2].reduce(\n    (curr) => curr + char.charAt(Math.floor(Math.random() * char.length)),\n    ''\n  );\n};\n","import { Store } from 'pullstate';\nimport UIStaticText from './i18n';\nimport { dummyName } from './debug';\n\nconst generateId = () => new Date().getTime();\n\nconst skipLogicOperator = {\n  option: {\n    contains: 'contains',\n  },\n  number: {\n    equal: 'equal',\n    notEqual: 'not_equal',\n    less_than: 'less_than',\n    greater_than: 'greater_than',\n  },\n  date: {\n    before_date: 'before_date',\n    after_date: 'after_date',\n  },\n};\n\nconst questionType = {\n  input: 'input',\n  number: 'number',\n  cascade: 'cascade',\n  text: 'text',\n  date: 'date',\n  option: 'option',\n  multiple_option: 'multiple_option',\n  tree: 'tree',\n  autofield: 'autofield',\n};\n\nconst defaultQuestion = ({\n  id,\n  questionGroup,\n  name = 'New Question',\n  prevOrder = 0,\n  type = questionType.input,\n  params = {},\n}) => {\n  const q = {\n    id: id || generateId(),\n    questionGroupId: questionGroup.id,\n    name: name,\n    order: prevOrder + 1,\n    type: type,\n    required: false,\n    tooltip: null,\n    ...params,\n  };\n  if (type === questionType.option || type === questionType.multiple_option) {\n    return {\n      ...q,\n      option: [],\n      allowOther: false,\n      ...params,\n    };\n  }\n  if (type === questionType.cascade) {\n    return {\n      ...q,\n      api: {\n        endpoint: null,\n        initial: 0,\n        list: false,\n      },\n      ...params,\n    };\n  }\n  return q;\n};\n\nconst defaultQuestionGroup = ({ name = dummyName(), prevOrder = 0 }) => {\n  const qg = {\n    id: generateId(),\n    name: name || dummyName(),\n    order: prevOrder + 1,\n    description: null,\n    repeatable: false,\n  };\n  return {\n    ...qg,\n    questions: [defaultQuestion({ questionGroup: qg })],\n  };\n};\n\nconst UIStore = new Store({\n  current: {\n    tab: 'form',\n    formId: null,\n    questionGroupId: null,\n    questionId: null,\n  },\n  activeQuestionGroups: [],\n  activeEditQuestionGroups: [],\n  activeMoveQuestionGroup: null,\n  activeEditQuestions: [],\n  UIText: UIStaticText.en,\n});\n\nconst FormStore = new Store({\n  id: generateId(),\n  name: 'New Form',\n  version: 1,\n  description: 'New Form Description',\n});\n\nconst QuestionGroupStore = new Store({\n  questionGroups: [defaultQuestionGroup({ name: null })],\n});\n\nconst questionGroupFn = {\n  add: defaultQuestionGroup,\n  store: QuestionGroupStore,\n};\n\nconst questionFn = {\n  add: defaultQuestion,\n  update: ({ id, type, questionGroup, params }) =>\n    defaultQuestion({\n      id: id,\n      type: type,\n      questionGroup: questionGroup,\n      ...params,\n    }),\n};\n\nexport {\n  UIStore,\n  FormStore,\n  questionType,\n  questionGroupFn,\n  questionFn,\n  skipLogicOperator,\n};\n","import React from 'react';\nimport { Button, Row, Col } from 'antd';\nimport { UIStore, questionGroupFn } from '../lib/store';\nimport { orderBy } from 'lodash';\n\nconst AddMoveButton = ({\n  order: prevOrder,\n  text,\n  className,\n  disabled = false,\n  isLastItem = false,\n}) => {\n  const { buttonCancelText } = UIStore.useState((s) => s.UIText);\n  const movingQg = UIStore.useState((s) => s.activeMoveQuestionGroup);\n  const { questionGroups } = questionGroupFn.store.useState((s) => s);\n\n  const handleOnAdd = () => {\n    const prevQg = questionGroups.filter((qg) => qg.order <= prevOrder);\n    const nextQg = questionGroups\n      .filter((qg) => qg.order > prevOrder)\n      .map((qg) => ({\n        ...qg,\n        order: qg.order + 1,\n      }));\n    const newQuestionGroups = [\n      ...prevQg,\n      questionGroupFn.add({ prevOrder: prevOrder }),\n      ...nextQg,\n    ];\n    questionGroupFn.store.update((s) => {\n      s.questionGroups = newQuestionGroups;\n    });\n  };\n\n  const handleOnMove = () => {\n    const currentQg = {\n      ...movingQg,\n      order: isLastItem\n        ? prevOrder\n        : prevOrder\n        ? prevOrder > movingQg.order\n          ? prevOrder\n          : prevOrder + 1\n        : 1,\n    };\n    const orderedQg = questionGroups\n      .filter((qg) => qg.order !== movingQg.order)\n      .map((x) => {\n        if (isLastItem) {\n          if (x.order > movingQg.order) {\n            return { ...x, order: x.order - 1 };\n          }\n          return x;\n        }\n        if (prevOrder > movingQg.order) {\n          if (x.order <= prevOrder && x.order > movingQg.order) {\n            return { ...x, order: x.order - movingQg.order || 1 };\n          }\n          if (x.order >= prevOrder && x.order > movingQg.order) {\n            return x;\n          }\n          return x;\n        }\n        if (\n          prevOrder < movingQg.order &&\n          x.order < movingQg.order &&\n          x.order >= prevOrder + 1\n        ) {\n          return { ...x, order: x.order + (prevOrder || 1) };\n        }\n        return x;\n      });\n    questionGroupFn.store.update((s) => {\n      s.questionGroups = orderBy([...orderedQg, currentQg], 'order');\n    });\n    UIStore.update((s) => {\n      s.activeMoveQuestionGroup = null;\n    });\n  };\n\n  const handleOnCancel = () => {\n    UIStore.update((s) => {\n      s.activeMoveQuestionGroup = null;\n    });\n  };\n\n  return (\n    <Row\n      align=\"middle\"\n      justify=\"start\"\n      className={`arfe-reorder-wrapper ${className}`}\n    >\n      <Col\n        span={movingQg ? 12 : 24}\n        align=\"left\"\n      >\n        <Button\n          type=\"dashed\"\n          className=\"reorder-button\"\n          size=\"small\"\n          onClick={movingQg ? handleOnMove : handleOnAdd}\n          disabled={disabled}\n        >\n          {text}\n        </Button>\n      </Col>\n      {movingQg && (\n        <Col\n          span={12}\n          align=\"right\"\n        >\n          <Button\n            type=\"danger\"\n            className=\"reorder-button\"\n            size=\"small\"\n            onClick={handleOnCancel}\n          >\n            {buttonCancelText}\n          </Button>\n        </Col>\n      )}\n    </Row>\n  );\n};\n\nexport default AddMoveButton;\n","import React from 'react';\nimport { Space, Button } from 'antd';\nimport styles from '../styles.module.css';\nimport { BiMove } from 'react-icons/bi';\n\nconst CardTitle = ({\n  title,\n  disableMoveButton,\n  numbering = null,\n  onMoveClick = () => {},\n}) => {\n  return (\n    <Space>\n      <Button\n        type=\"link\"\n        className={styles['button-icon']}\n        onClick={onMoveClick}\n        disabled={disableMoveButton}\n        icon={<BiMove />}\n      />\n      {numbering ? `${numbering}. ${title}` : title}\n    </Space>\n  );\n};\n\nexport default CardTitle;\n","import React from 'react';\nimport { Button } from 'antd';\nimport styles from '../styles.module.css';\nimport { BiShow, BiHide } from 'react-icons/bi';\nimport { TbEdit, TbEditOff } from 'react-icons/tb';\nimport { RiDeleteBin2Line } from 'react-icons/ri';\n\nconst CardExtraButton = ({\n  type = 'delete-button',\n  isExpand = false,\n  onClick = () => {},\n  onCancel = () => {},\n}) => {\n  switch (type) {\n    case 'show-button':\n      if (isExpand) {\n        return (\n          <Button\n            type=\"link\"\n            className={styles['button-icon']}\n            onClick={onCancel}\n            icon={<BiHide />}\n          />\n        );\n      }\n      return (\n        <Button\n          type=\"link\"\n          className={styles['button-icon']}\n          onClick={onClick}\n          icon={<BiShow />}\n        />\n      );\n\n    case 'edit-button':\n      if (isExpand) {\n        return (\n          <Button\n            type=\"link\"\n            className={styles['button-icon']}\n            onClick={onCancel}\n            icon={<TbEditOff />}\n          />\n        );\n      }\n      return (\n        <Button\n          type=\"link\"\n          className={styles['button-icon']}\n          onClick={onClick}\n          icon={<TbEdit />}\n        />\n      );\n\n    default:\n      return (\n        <Button\n          type=\"link\"\n          className={styles['button-icon']}\n          onClick={onClick}\n          icon={<RiDeleteBin2Line />}\n        />\n      );\n  }\n};\n\nexport default CardExtraButton;\n","import React from 'react';\nimport { Space, Button } from 'antd';\nimport styles from '../styles.module.css';\nimport { UIStore } from '../lib/store';\n\nconst SaveButton = ({\n  onClickSave = () => {},\n  cancelButton = true,\n  onClickCancel = () => {},\n}) => {\n  const UIText = UIStore.useState((s) => s.UIText);\n  return (\n    <Space className={styles['space-align-right']}>\n      <Button\n        type=\"primary\"\n        onClick={onClickSave}\n      >\n        {UIText.buttonSaveText}\n      </Button>\n      {cancelButton && (\n        <Button onClick={onClickCancel}>{UIText.buttonCancelText}</Button>\n      )}\n    </Space>\n  );\n};\n\nexport default SaveButton;\n","import React, { useEffect } from 'react';\nimport { Form, Input } from 'antd';\nimport { UIStore, FormStore, questionGroupFn } from '../lib/store';\nimport { SaveButton } from '../support';\n\nconst FormDefinition = ({ onSave }) => {\n  const form = Form.useFormInstance();\n  const { questionGroups } = questionGroupFn.store.useState((s) => s);\n  const formStore = FormStore.useState((s) => s);\n  const UIText = UIStore.useState((s) => s.UIText);\n  const { inputFormNameLabel, inputFormDescriptionLabel } = UIText;\n\n  const handleSave = () => {\n    form.submit();\n    if (onSave) {\n      onSave({ ...formStore, questionGroups: questionGroups });\n    }\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      'form-name': formStore.name,\n      'form-description': formStore.description,\n    });\n  }, [form, formStore]);\n\n  return (\n    <div\n      key=\"form-definition-input\"\n      className=\"arfe-form-definition\"\n    >\n      <Form.Item\n        label={inputFormNameLabel}\n        name=\"form-name\"\n      >\n        <Input\n          onChange={(e) =>\n            FormStore.update((u) => {\n              u.name = e?.target?.value;\n            })\n          }\n        />\n      </Form.Item>\n      <Form.Item\n        label={inputFormDescriptionLabel}\n        name=\"form-description\"\n      >\n        <Input.TextArea\n          rows={5}\n          onChange={(e) =>\n            FormStore.update((u) => {\n              u.description = e?.target?.value;\n            })\n          }\n        />\n      </Form.Item>\n      <SaveButton\n        cancelButton={false}\n        onClickSave={handleSave}\n      />\n    </div>\n  );\n};\n\nexport default FormDefinition;\n","import React, { useMemo } from 'react';\nimport { Card, Space } from 'antd';\nimport { UIStore } from '../lib/store';\nimport { QuestionGroupSetting, QuestionDefinition } from '.';\nimport { AddMoveButton, CardTitle, CardExtraButton } from '../support';\n\nconst QuestionGroupDefinition = ({ index, questionGroup, isLastItem }) => {\n  const activeQuestionGroups = UIStore.useState((s) => s.activeQuestionGroups);\n  const activeEditQuestionGroups = UIStore.useState(\n    (s) => s.activeEditQuestionGroups\n  );\n  const movingQg = UIStore.useState((s) => s.activeMoveQuestionGroup);\n\n  const { id, name, questions, order } = questionGroup;\n  const { buttonAddNewQuestionGroupText, buttonMoveQuestionGroupText } =\n    UIStore.useState((s) => s.UIText);\n\n  const showQuestion = useMemo(() => {\n    return activeQuestionGroups.includes(id);\n  }, [activeQuestionGroups, id]);\n\n  const isEditQuestionGroup = useMemo(() => {\n    return activeEditQuestionGroups.includes(id);\n  }, [activeEditQuestionGroups, id]);\n\n  const handleShowQuestions = () => {\n    UIStore.update((s) => {\n      s.activeQuestionGroups = [...activeQuestionGroups, id];\n    });\n  };\n\n  const handleHideQuestions = () => {\n    UIStore.update((s) => {\n      s.activeQuestionGroups = activeQuestionGroups.filter(\n        (qgId) => qgId !== id\n      );\n    });\n  };\n\n  const handleEditGroup = () => {\n    UIStore.update((s) => {\n      s.activeEditQuestionGroups = [...activeEditQuestionGroups, id];\n    });\n  };\n\n  const handleCancelEditGroup = () => {\n    UIStore.update((s) => {\n      s.activeEditQuestionGroups = activeEditQuestionGroups.filter(\n        (qgId) => qgId !== id\n      );\n    });\n  };\n\n  const handleMove = () => {\n    UIStore.update((s) => {\n      s.activeMoveQuestionGroup =\n        movingQg === questionGroup ? null : questionGroup;\n    });\n  };\n\n  const extraButtons = [\n    {\n      type: 'show-button',\n      isExpand: showQuestion,\n      onClick: handleShowQuestions,\n      onCancel: handleHideQuestions,\n    },\n    {\n      type: 'edit-button',\n      isExpand: isEditQuestionGroup,\n      onClick: handleEditGroup,\n      onCancel: handleCancelEditGroup,\n    },\n    {\n      type: 'delete-button',\n      onClick: () => console.log('delete'),\n    },\n  ];\n\n  return (\n    <div>\n      <AddMoveButton\n        text={\n          movingQg ? buttonMoveQuestionGroupText : buttonAddNewQuestionGroupText\n        }\n        order={order - 1}\n        disabled={movingQg === questionGroup || movingQg?.order + 1 === order}\n      />\n      <Card\n        key={`${index}-${id}`}\n        title={\n          <CardTitle\n            title={\n              <div className=\"arfe-question-group-title\">\n                {name} | Order: {order}\n              </div>\n            }\n            onMoveClick={handleMove}\n            disableMoveButton={!index && isLastItem}\n          />\n        }\n        headStyle={{\n          textAlign: 'left',\n          padding: '0 12px',\n          backgroundColor: movingQg?.id === id ? '#FFF2CA' : '#FFF',\n          border: movingQg?.id === id ? '1px dashed #ffc107' : 'none',\n        }}\n        bodyStyle={{\n          padding: isEditQuestionGroup || showQuestion ? 24 : 0,\n          borderTop:\n            isEditQuestionGroup || showQuestion ? '1px solid #f3f3f3' : 'none',\n        }}\n        loading={false}\n        extra={\n          <Space>\n            {extraButtons.map((cfg) => (\n              <CardExtraButton\n                key={`${cfg.type}-${id}`}\n                type={cfg.type}\n                isExpand={cfg.isExpand}\n                onClick={() => cfg.onClick()}\n                onCancel={() => cfg.onCancel()}\n              />\n            ))}\n          </Space>\n        }\n      >\n        {isEditQuestionGroup && (\n          <div>\n            <QuestionGroupSetting {...questionGroup} />\n          </div>\n        )}\n        {showQuestion &&\n          questions.map((q, qi) => (\n            <QuestionDefinition\n              key={`question-definition-${qi}`}\n              index={qi}\n              question={q}\n              isLastItem={qi === questions.length - 1}\n            />\n          ))}\n      </Card>\n      {isLastItem && (\n        <AddMoveButton\n          order={order}\n          text={\n            movingQg\n              ? buttonMoveQuestionGroupText\n              : buttonAddNewQuestionGroupText\n          }\n          disabled={movingQg === questionGroup}\n          isLastItem={true}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default QuestionGroupDefinition;\n","import React from 'react';\nimport { Form, Input, Checkbox } from 'antd';\nimport styles from '../styles.module.css';\nimport { UIStore, questionGroupFn } from '../lib/store';\n\nconst QuestionGroupSetting = ({ id, name, description, repeatable }) => {\n  const namePreffix = `question_group-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n\n  const handleChangeName = (e) => {\n    questionGroupFn.store.update((s) => {\n      s.questionGroups = s.questionGroups.map((x) => {\n        if (x.id === id) {\n          return { ...x, name: e?.target?.value };\n        }\n        return x;\n      });\n    });\n  };\n\n  const handleChangeDescription = (e) => {\n    questionGroupFn.store.update((s) => {\n      s.questionGroups = s.questionGroups.map((x) => {\n        if (x.id === id) {\n          return { ...x, description: e?.target?.value };\n        }\n        return x;\n      });\n    });\n  };\n\n  const handleChangeRepeatable = (e) => {\n    questionGroupFn.store.update((s) => {\n      s.questionGroups = s.questionGroups.map((x) => {\n        if (x.id === id) {\n          return { ...x, repeatable: e?.target?.checked };\n        }\n        return x;\n      });\n    });\n  };\n\n  return (\n    <div>\n      <Form.Item\n        label={UIText.inputQuestionGroupNameLabel}\n        initialValue={name}\n        name={`${namePreffix}-name`}\n        required\n      >\n        <Input onChange={handleChangeName} />\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionGroupDescriptionLabel}\n        initialValue={description}\n        name={`${namePreffix}-description`}\n      >\n        <Input.TextArea\n          onChange={handleChangeDescription}\n          rows={5}\n        />\n      </Form.Item>\n      <Form.Item\n        name={`${namePreffix}-repeatable`}\n        className={styles['input-checkbox-wrapper']}\n      >\n        <Checkbox onChange={handleChangeRepeatable}>\n          {' '}\n          {UIText.inputRepeatThisGroupCheckbox}\n        </Checkbox>\n      </Form.Item>\n    </div>\n  );\n};\n\nexport default QuestionGroupSetting;\n","import React, { useMemo, useState } from 'react';\nimport { Card, Space, Tabs, Form } from 'antd';\nimport styles from '../styles.module.css';\nimport { UIStore } from '../lib/store';\nimport { QuestionSetting, QuestionSkipLogic } from '.';\nimport {\n  AddMoveButton,\n  CardTitle,\n  CardExtraButton,\n  SaveButton,\n} from '../support';\n\nconst QuestionDefinition = ({ index, question, isLastItem }) => {\n  const form = Form.useFormInstance();\n  const UIText = UIStore.useState((s) => s.UIText);\n  const activeEditQuestions = UIStore.useState((s) => s.activeEditQuestions);\n  const [activeTab, setActiveTab] = useState('setting');\n  const { id, name } = question;\n\n  const isEditQuestion = useMemo(() => {\n    return activeEditQuestions.includes(id);\n  }, [activeEditQuestions, id]);\n\n  const handleEdit = () => {\n    UIStore.update((s) => {\n      s.activeEditQuestions = [...activeEditQuestions, id];\n    });\n  };\n\n  const handleCancelEdit = () => {\n    UIStore.update((s) => {\n      s.activeEditQuestions = activeEditQuestions.filter((qId) => qId !== id);\n    });\n  };\n\n  const extraButtons = [\n    {\n      type: 'edit-button',\n      isExpand: isEditQuestion,\n      onClick: handleEdit,\n      onCancel: handleCancelEdit,\n    },\n    {\n      type: 'delete-button',\n      onClick: () => console.log('delete'),\n    },\n  ];\n\n  return (\n    <div>\n      <AddMoveButton text={UIText.buttonAddNewQuestionText} />\n      <Card\n        key={`${index}-${id}`}\n        title={\n          <CardTitle\n            title={name}\n            numbering={index + 1}\n            onMoveClick={() => {\n              console.log('move');\n            }}\n          />\n        }\n        headStyle={{ textAlign: 'left', padding: '0 12px' }}\n        bodyStyle={{\n          borderTop: isEditQuestion ? '1px solid #f3f3f3' : 'none',\n          padding: isEditQuestion ? 24 : 0,\n        }}\n        loading={false}\n        extra={\n          <Space>\n            {extraButtons.map((cfg) => (\n              <CardExtraButton\n                key={`${cfg.type}-${id}`}\n                type={cfg.type}\n                isExpand={cfg.isExpand}\n                onClick={cfg.onClick}\n                onCancel={cfg.onCancel}\n              />\n            ))}\n          </Space>\n        }\n      >\n        {isEditQuestion && (\n          <div>\n            <Tabs\n              defaultActiveKey={activeTab}\n              onChange={(key) => setActiveTab(key)}\n              tabBarGutter={24}\n              className={styles['tabs-wrapper']}\n            >\n              <Tabs.TabPane\n                tab={UIText.questionSettingTabPane}\n                key=\"setting\"\n              />\n              <Tabs.TabPane\n                tab={UIText.questionSkipLogicTabPane}\n                key=\"skip-logic\"\n              />\n              {/* <Tabs.TabPane\n                tab={UIText.questionExtraTabPane}\n                key=\"extra\"\n              />\n              <Tabs.TabPane\n                tab={UIText.questionTranslationTabPane}\n                key=\"translation\"\n              /> */}\n            </Tabs>\n            {activeTab === 'setting' && <QuestionSetting question={question} />}\n            {activeTab === 'skip-logic' && (\n              <QuestionSkipLogic question={question} />\n            )}\n            <div>\n              <SaveButton\n                onClickSave={() => form.submit()}\n                onClickCancel={handleCancelEdit}\n              />\n            </div>\n          </div>\n        )}\n      </Card>\n      {isLastItem && <AddMoveButton text={UIText.buttonAddNewQuestionText} />}\n    </div>\n  );\n};\n\nexport default QuestionDefinition;\n","import React from 'react';\nimport { Form, Checkbox, Space } from 'antd';\nimport styles from '../../styles.module.css';\nimport { UIStore } from '../../lib/store';\n\nconst SettingInput = ({ id }) => {\n  const namePreffix = `question-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n\n  return (\n    <div>\n      <p className={styles['more-question-setting-text']}>\n        {UIText.questionMoreInputTypeSettingText}\n      </p>\n      <Space className={styles['space-align-left']}>\n        <Form.Item\n          initialValue={false}\n          name={`${namePreffix}-require_double_entry`}\n        >\n          <Checkbox> {UIText.inputQuestionRequireDoubleEntryCheckbox}</Checkbox>\n        </Form.Item>\n        <Form.Item\n          initialValue={false}\n          name={`${namePreffix}-hidden_string`}\n        >\n          <Checkbox> {UIText.inputQuestionHiddenStringCheckbox}</Checkbox>\n        </Form.Item>\n      </Space>\n    </div>\n  );\n};\n\nexport default SettingInput;\n","import React from 'react';\nimport { Form, Checkbox, Space, InputNumber, Row, Col } from 'antd';\nimport styles from '../../styles.module.css';\nimport { UIStore } from '../../lib/store';\n\nconst SettingNumber = ({ id }) => {\n  const namePreffix = `question-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n\n  return (\n    <div>\n      <p className={styles['more-question-setting-text']}>\n        {UIText.questionMoreInputNumberSettingText}\n      </p>\n      <Space className={styles['space-align-left']}>\n        <Form.Item\n          initialValue={false}\n          name={`${namePreffix}-allow_decimal`}\n        >\n          <Checkbox> {UIText.inputQuestionAllowDecimalCheckbox}</Checkbox>\n        </Form.Item>\n      </Space>\n      <Row\n        align=\"middle\"\n        justify=\"space-between\"\n        gutter={[12, 12]}\n      >\n        <Col span={8}>\n          <Form.Item\n            label=\"Minimum Value\"\n            initialValue={''}\n            name={`${namePreffix}-min`}\n          >\n            <InputNumber\n              style={{ width: '100%' }}\n              controls={false}\n              keyboard={false}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={8}>\n          <Form.Item\n            label=\"Maximum Value\"\n            initialValue={''}\n            name={`${namePreffix}-max`}\n          >\n            <InputNumber\n              style={{ width: '100%' }}\n              controls={false}\n              keyboard={false}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={8}>\n          <Form.Item\n            label=\"Equal Value\"\n            initialValue={''}\n            name={`${namePreffix}-equal`}\n          >\n            <InputNumber\n              style={{ width: '100%' }}\n              controls={false}\n              keyboard={false}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default SettingNumber;\n","import React from 'react';\nimport { Form, Checkbox, Space, Row, Col, Input } from 'antd';\nimport styles from '../../styles.module.css';\nimport { UIStore } from '../../lib/store';\n\nconst SettingOption = ({ id }) => {\n  const namePreffix = `question-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n\n  return (\n    <div>\n      <p className={styles['more-question-setting-text']}>\n        {UIText.questionMoreOptionTypeSettingText}\n      </p>\n      <Row\n        align=\"middle\"\n        justify=\"space-between\"\n        gutter={[12, 12]}\n      >\n        <Col span={24}>\n          <Form.Item\n            label=\"Option\"\n            initialValue={''}\n            name={`${namePreffix}-option`}\n          >\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Space className={styles['space-align-left']}>\n        <Form.Item\n          initialValue={false}\n          name={`${namePreffix}-allow_other`}\n        >\n          <Checkbox> {UIText.inputQuestionAllowOtherCheckbox}</Checkbox>\n        </Form.Item>\n      </Space>\n    </div>\n  );\n};\n\nexport default SettingOption;\n","import React from 'react';\nimport { Form, Input, Select, Checkbox } from 'antd';\nimport styles from '../styles.module.css';\nimport { UIStore, questionType } from '../lib/store';\nimport { SettingInput, SettingNumber, SettingOption } from './question-type';\n\nconst QuestionSetting = ({ question }) => {\n  const { id, name, type, variable, tooltip, required } = question;\n  const namePreffix = `question-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n  const form = Form.useFormInstance();\n  const qType = Form.useWatch(`${namePreffix}-type`, form);\n\n  return (\n    <div>\n      <Form.Item\n        label={UIText.inputQuestionNameLabel}\n        initialValue={name}\n        name={`${namePreffix}-name`}\n        required\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionTypeLabel}\n        initialValue={type}\n        name={`${namePreffix}-type`}\n        required\n      >\n        <Select\n          className={styles['select-dropdown']}\n          options={Object.keys(questionType).map((key) => ({\n            label: questionType[key]?.split('_').join(' '),\n            value: key,\n          }))}\n          getPopupContainer={(triggerNode) => triggerNode.parentElement}\n        />\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionVariableNameLabel}\n        initialValue={variable}\n        name={`${namePreffix}-variable`}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionTooltipLabel}\n        initialValue={tooltip}\n        name={`${namePreffix}-tooltip`}\n      >\n        <Input.TextArea />\n      </Form.Item>\n      <Form.Item\n        initialValue={required}\n        name={`${namePreffix}-required`}\n        className={styles['input-checkbox-wrapper']}\n      >\n        <Checkbox> {UIText.inputQuestionRequiredCheckbox}</Checkbox>\n      </Form.Item>\n      {qType === 'input' && <SettingInput {...question} />}\n      {qType === 'number' && <SettingNumber {...question} />}\n      {['option', 'multiple_option'].includes(qType) && (\n        <SettingOption {...question} />\n      )}\n    </div>\n  );\n};\n\nexport default QuestionSetting;\n","import React from 'react';\nimport { Form, Select, Row, Col, Input } from 'antd';\nimport styles from '../styles.module.css';\nimport { CardExtraButton } from '../support';\nimport { UIStore } from '../lib/store';\n\nconst QuestionSkipLogic = (question) => {\n  const { id } = question;\n  const namePreffix = `question-${id}`;\n  const UIText = UIStore.useState((s) => s.UIText);\n\n  return (\n    <div>\n      <Form.Item\n        label={UIText.inputQuestionDependentToLabel}\n        initialValue={''}\n        name={`${namePreffix}-dependent_to`}\n      >\n        <Row\n          align=\"middle\"\n          justify=\"space-between\"\n        >\n          <Col span={23}>\n            <Select\n              className={styles['select-dropdown']}\n              options={[]}\n              getPopupContainer={(triggerNode) => triggerNode.parentElement}\n            />\n          </Col>\n          <Col\n            span={1}\n            align=\"end\"\n          >\n            <CardExtraButton\n              type=\"delete-button\"\n              onClick={() => console.log('delete')}\n            />\n          </Col>\n        </Row>\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionDependentLogicLabel}\n        initialValue={''}\n        name={`${namePreffix}-dependent_logic`}\n      >\n        <Select\n          className={styles['select-dropdown']}\n          options={[]}\n          getPopupContainer={(triggerNode) => triggerNode.parentElement}\n        />\n      </Form.Item>\n      <Form.Item\n        label={UIText.inputQuestionDependentAnswerLabel}\n        initialValue={''}\n        name={`${namePreffix}-dependent_answer`}\n      >\n        <Input />\n      </Form.Item>\n    </div>\n  );\n};\n\nexport default QuestionSkipLogic;\n","import React from 'react';\nimport 'antd/dist/antd.min.css';\nimport styles from './styles.module.css';\nimport { Card, Tabs } from 'antd';\nimport {\n  FormWrapper,\n  FormDefinition,\n  QuestionGroupDefinition,\n} from './components';\nimport { UIStore, questionGroupFn } from './lib/store';\n\nconst WebformEditor = ({ onSave = false }) => {\n  const current = UIStore.useState((s) => s.current);\n  const UIText = UIStore.useState((s) => s.UIText);\n  const questionGroups = questionGroupFn.store.useState(\n    (s) => s.questionGroups\n  );\n\n  const { tab: currentTab } = current;\n  const { formTabPane, previewTabPane, mandatoryQuestionCount, version } =\n    UIText;\n\n  const handleTabsOnChange = (e) => {\n    UIStore.update((s) => {\n      s.current = {\n        ...current,\n        tab: e,\n      };\n    });\n  };\n\n  return (\n    <div\n      key=\"container\"\n      className={styles.container}\n    >\n      <Card>\n        <Tabs\n          defaultActiveKey={current.tab}\n          onChange={handleTabsOnChange}\n          tabBarExtraContent={\n            <span>{`1 / 10 ${mandatoryQuestionCount} | ${version} : 1`}</span>\n          }\n          tabBarGutter={24}\n          className={styles['tabs-wrapper']}\n        >\n          <Tabs.TabPane\n            tab={formTabPane}\n            key=\"form\"\n          />\n          <Tabs.TabPane\n            tab={previewTabPane}\n            key=\"preview\"\n          />\n        </Tabs>\n        {currentTab === 'form' && (\n          <FormWrapper>\n            <FormDefinition onSave={onSave} />\n            {questionGroups.map((qg, qgi) => {\n              return (\n                <QuestionGroupDefinition\n                  key={`question-group-definition-${qgi}`}\n                  index={qgi}\n                  questionGroup={qg}\n                  isLastItem={qgi === questionGroups.length - 1}\n                />\n              );\n            })}\n          </FormWrapper>\n        )}\n        {currentTab === 'preview' && <h3>Preview</h3>}\n      </Card>\n    </div>\n  );\n};\n\nexport default WebformEditor;\n"],"names":["FormWrapper","children","form","Form","useForm","handleOnValuesChange","changedValues","allValues","handleOnFinish","values","handleOnFinishFailed","errorFields","outOfDate","UIStaticText","en","inputFormNameLabel","inputFormDescriptionLabel","formTabPane","previewTabPane","mandatoryQuestionCount","version","inputQuestionGroupNameLabel","inputQuestionGroupDescriptionLabel","inputRepeatThisGroupCheckbox","buttonShowQuestionsText","buttonHideQuestionsText","buttonEditGroupText","buttonCancelEditGroupText","buttonDeleteText","buttonCancelText","buttonAddNewQuestionGroupText","buttonMoveQuestionGroupText","buttonAddNewQuestionText","inputQuestionNameLabel","inputQuestionTypeLabel","inputQuestionVariableNameLabel","inputQuestionTooltipLabel","inputQuestionRequiredCheckbox","buttonSaveText","questionSettingTabPane","questionSkipLogicTabPane","questionTranslationTabPane","questionExtraTabPane","inputQuestionDependentToLabel","inputQuestionDependentLogicLabel","inputQuestionDependentAnswerLabel","questionMoreInputTypeSettingText","inputQuestionRequireDoubleEntryCheckbox","inputQuestionHiddenStringCheckbox","questionMoreInputNumberSettingText","inputQuestionAllowDecimalCheckbox","questionMoreOptionTypeSettingText","inputQuestionAllowOtherCheckbox","char","dummyName","reduce","curr","charAt","Math","floor","random","length","generateId","Date","getTime","questionType","input","number","cascade","text","date","option","multiple_option","tree","autofield","defaultQuestion","id","questionGroup","name","prevOrder","type","params","q","questionGroupId","order","required","tooltip","allowOther","api","endpoint","initial","list","defaultQuestionGroup","qg","description","repeatable","questions","UIStore","Store","current","tab","formId","questionId","activeQuestionGroups","activeEditQuestionGroups","activeMoveQuestionGroup","activeEditQuestions","UIText","FormStore","QuestionGroupStore","questionGroups","questionGroupFn","add","store","AddMoveButton","className","disabled","isLastItem","useState","s","movingQg","handleOnAdd","prevQg","filter","nextQg","map","newQuestionGroups","update","handleOnMove","currentQg","orderedQg","x","orderBy","handleOnCancel","CardTitle","title","disableMoveButton","numbering","onMoveClick","styles","CardExtraButton","isExpand","onClick","onCancel","SaveButton","onClickSave","cancelButton","onClickCancel","FormDefinition","onSave","useFormInstance","formStore","handleSave","submit","useEffect","setFieldsValue","e","u","target","value","QuestionGroupDefinition","index","showQuestion","useMemo","includes","isEditQuestionGroup","handleShowQuestions","handleHideQuestions","qgId","handleEditGroup","handleCancelEditGroup","handleMove","extraButtons","console","log","textAlign","padding","backgroundColor","border","borderTop","cfg","qi","QuestionGroupSetting","namePreffix","handleChangeName","handleChangeDescription","handleChangeRepeatable","checked","QuestionDefinition","question","activeTab","setActiveTab","isEditQuestion","handleEdit","handleCancelEdit","qId","key","SettingInput","SettingNumber","width","SettingOption","QuestionSetting","variable","qType","useWatch","Object","keys","label","split","join","triggerNode","parentElement","QuestionSkipLogic","WebformEditor","currentTab","handleTabsOnChange","container","qgi"],"mappings":"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"}